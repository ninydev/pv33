<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

</head>
<body>
<header>
    <h1> Binding </h1>
</header>

<div>
    <img src="" alt="" id="avatar" width="50" style="border-radius: 50%; vertical-align: middle;">
    <h2 id="name"></h2>
    <p><label>Change name (One way to Source): <input type="text" id="inputName"></label></p>
    <p id="age"></p>
    <p><label>Change age (Two way): <input type="text" id="inputAge"></label></p>

</div>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script>

    /**
     * DOM - Document Object Model
     * Посилання на HTMLElement
     * @type {HTMLElement}
     */
    let avatarView = document.getElementById('avatar');
    let nameView = document.getElementById('name');
    let ageView = document.getElementById('age');
    let inputName = document.getElementById('inputName');
    let inputAge = document.getElementById('inputAge');

    inputAge.oninput = function (e) {
        userModel.setAge(e.target.value);
    }


    /**
     * One-way to source binding (easy mode)
     */
    inputName.oninput = function (e) {
        userModel.setName(e.target.value);
    }


    /**
     * Model
     * @type {{id: number, avatar: string, name: string, age: number}}
     */
    let userModel = {
        id: 1,
        avatar: 'https://avatars.githubusercontent.com/u/10101010?v=4',
        name: 'John',
        age: 25,

        setName(name) {
            this.name = name;
            updateUserDataFromSource();
        },
        setAge(age) {
            this.age = age;
            updateUserDataFromSource();
        }
    }

    /**
     * Oneway binding (easy mode)
     */
    function updateUserDataFromSource() {
        avatarView.src = userModel.avatar;
        nameView.textContent = userModel.name;
        ageView.textContent = userModel.age;

        // Потрібно для Two way binding
        inputAge.value = userModel.age;
    }


    document.body.onload = function () {
        console.log('DOM loaded');
        updateUserDataFromSource();
    }

</script>


</body>
</html>